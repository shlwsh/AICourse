# å¿«é€Ÿå¯åŠ¨æŒ‡å—

æœ¬æŒ‡å—å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå¯åŠ¨æ’è¯¾ç³»ç»Ÿçš„å¼€å‘ç¯å¢ƒã€‚

## å‰ç½®è¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š

- âœ… **Bun** (v1.0+) - JavaScript è¿è¡Œæ—¶
- âœ… **Rust** (v1.70+) - ç³»ç»Ÿç¼–ç¨‹è¯­è¨€
- âœ… **Cargo** - Rust åŒ…ç®¡ç†å™¨
- âœ… **Node.js** (å¯é€‰ï¼ŒBun å¯æ›¿ä»£)

### éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥ Bun ç‰ˆæœ¬
bun --version

# æ£€æŸ¥ Rust ç‰ˆæœ¬
rustc --version

# æ£€æŸ¥ Cargo ç‰ˆæœ¬
cargo --version
```

## å®‰è£…ä¾èµ–

### 1. å®‰è£…å‰ç«¯ä¾èµ–

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
bun install
```

### 2. å®‰è£… Rust ä¾èµ–

Rust ä¾èµ–ä¼šåœ¨é¦–æ¬¡æ„å»ºæ—¶è‡ªåŠ¨ä¸‹è½½ï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£…ã€‚

## å¯åŠ¨å¼€å‘æœåŠ¡å™¨

### æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# å¯åŠ¨ Tauri å¼€å‘æ¨¡å¼
# ä¼šè‡ªåŠ¨å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨å’Œ Rust åç«¯
bun run tauri dev
```

**å¯åŠ¨æµç¨‹**ï¼š
1. Tauri CLI è¯»å–é…ç½®æ–‡ä»¶
2. æ‰§è¡Œ `bun run dev` å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨ï¼ˆ5173 ç«¯å£ï¼‰
3. ç¼–è¯‘ Rust åç«¯ä»£ç 
4. æ‰“å¼€ Tauri åº”ç”¨çª—å£
5. åŠ è½½å‰ç«¯é¡µé¢

### æ–¹å¼äºŒï¼šåˆ†æ­¥å¯åŠ¨

å¦‚æœéœ€è¦å•ç‹¬å¯åŠ¨å„ä¸ªæœåŠ¡ï¼š

```bash
# ç»ˆç«¯ 1: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
bun run dev

# ç»ˆç«¯ 2: å¯åŠ¨ Hono æœåŠ¡å±‚ï¼ˆå¯é€‰ï¼‰
bun run server

# ç»ˆç«¯ 3: å¯åŠ¨ Tauri åº”ç”¨
bun run tauri dev
```

## éªŒè¯é…ç½®

è¿è¡Œé…ç½®éªŒè¯è„šæœ¬ï¼Œç¡®ä¿æ‰€æœ‰é…ç½®æ­£ç¡®ï¼š

```bash
bun run scripts/verify-tauri-config.ts
```

**éªŒè¯å†…å®¹**ï¼š
- âœ… é…ç½®æ–‡ä»¶å­˜åœ¨æ€§
- âœ… é…ç½®æ–‡ä»¶æ ¼å¼æ­£ç¡®æ€§
- âœ… ç«¯å£é…ç½®ä¸€è‡´æ€§
- âœ… æ–‡ä»¶è·¯å¾„æœ‰æ•ˆæ€§
- âœ… ä¾èµ–å®‰è£…å®Œæ•´æ€§
- âœ… API æƒé™é…ç½®å®‰å…¨æ€§
- âœ… çª—å£é…ç½®åˆç†æ€§

## å¼€å‘æœåŠ¡å™¨ç«¯å£

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| Vite å¼€å‘æœåŠ¡å™¨ | 5173 | å‰ç«¯å¼€å‘æœåŠ¡å™¨ |
| Hono æœåŠ¡å±‚ | 3000 | RESTful API æœåŠ¡ |
| HMR WebSocket | 5173 | çƒ­æ¨¡å—æ›¿æ¢é€šä¿¡ |

## å¼€å‘å·¥å…·

### 1. æµè§ˆå™¨å¼€å‘è€…å·¥å…·

åœ¨ Tauri çª—å£ä¸­æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼š

- **Windows/Linux**: `Ctrl + Shift + I`
- **macOS**: `Cmd + Option + I`
- **å³é”®èœå•**: å³é”®ç‚¹å‡» â†’ "æ£€æŸ¥å…ƒç´ "

### 2. Vue DevTools

å®‰è£…æµè§ˆå™¨æ‰©å±•ï¼š
- [Chrome æ‰©å±•](https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd)
- [Firefox æ‰©å±•](https://addons.mozilla.org/en-US/firefox/addon/vue-js-devtools/)

### 3. Rust æ—¥å¿—

æŸ¥çœ‹ Rust åç«¯æ—¥å¿—ï¼š

```bash
# è®¾ç½®æ—¥å¿—çº§åˆ«
export RUST_LOG=debug

# å¯åŠ¨åº”ç”¨
bun run tauri dev
```

æ—¥å¿—ä¼šè¾“å‡ºåˆ°ç»ˆç«¯ã€‚

## çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰

å¼€å‘æ¨¡å¼ä¸‹ï¼Œä¿®æ”¹ä»£ç ä¼šè‡ªåŠ¨è§¦å‘çƒ­æ›´æ–°ï¼š

- **å‰ç«¯ä»£ç **: ä¿®æ”¹ `.vue`ã€`.ts`ã€`.css` æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ·æ–°
- **Rust ä»£ç **: ä¿®æ”¹ `.rs` æ–‡ä»¶éœ€è¦é‡æ–°ç¼–è¯‘ï¼ˆè‡ªåŠ¨è§¦å‘ï¼‰

**HMR ç‰¹æ€§**ï¼š
- âš¡ å¿«é€Ÿæ›´æ–°ï¼ˆæ¯«ç§’çº§ï¼‰
- ğŸ”„ ä¿ç•™ç»„ä»¶çŠ¶æ€
- ğŸ¯ ç²¾ç¡®æ›´æ–°ï¼ˆåªæ›´æ–°ä¿®æ”¹çš„æ¨¡å—ï¼‰
- ğŸ› é”™è¯¯è¦†ç›–å±‚ï¼ˆæ˜¾ç¤ºç¼–è¯‘é”™è¯¯ï¼‰

## å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**: `Port 5173 is already in use`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :5173  # macOS/Linux
netstat -ano | findstr :5173  # Windows

# æ€æ­»è¿›ç¨‹
kill -9 <PID>  # macOS/Linux
taskkill /PID <PID> /F  # Windows
```

### 2. Rust ç¼–è¯‘å¤±è´¥

**é”™è¯¯ä¿¡æ¯**: `error: could not compile ...`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…é™¤ Rust æ„å»ºç¼“å­˜
cd src-tauri
cargo clean

# é‡æ–°æ„å»º
cd ..
bun run tauri dev
```

### 3. ä¾èµ–å®‰è£…å¤±è´¥

**é”™è¯¯ä¿¡æ¯**: `error: failed to download ...`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…é™¤ä¾èµ–ç¼“å­˜
rm -rf node_modules
rm bun.lockb

# é‡æ–°å®‰è£…
bun install
```

### 4. çª—å£ç©ºç™½

**å¯èƒ½åŸå› **:
- Vite å¼€å‘æœåŠ¡å™¨æœªå¯åŠ¨
- ç«¯å£é…ç½®ä¸ä¸€è‡´
- å‰ç«¯ä»£ç ç¼–è¯‘é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ç»ˆç«¯è¾“å‡ºï¼Œç¡®è®¤ Vite å·²å¯åŠ¨
2. éªŒè¯é…ç½®ï¼š`bun run scripts/verify-tauri-config.ts`
3. æ‰“å¼€å¼€å‘è€…å·¥å…·æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯

### 5. HMR ä¸å·¥ä½œ

**å¯èƒ½åŸå› **:
- WebSocket è¿æ¥å¤±è´¥
- é˜²ç«å¢™é˜»æ­¢è¿æ¥
- æµè§ˆå™¨æ‰©å±•å¹²æ‰°

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„ WebSocket è¿æ¥çŠ¶æ€
2. ä¸´æ—¶ç¦ç”¨é˜²ç«å¢™æµ‹è¯•
3. ç¦ç”¨æµè§ˆå™¨æ‰©å±•
4. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

## æ„å»ºç”Ÿäº§ç‰ˆæœ¬

### å¼€å‘æ„å»º

```bash
# æ„å»ºå‰ç«¯èµ„æº
bun run build

# æ„å»º Tauri åº”ç”¨ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
bun run tauri build --debug
```

### ç”Ÿäº§æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
bun run tauri build
```

**è¾“å‡ºä½ç½®**:
- Windows: `src-tauri/target/release/bundle/msi/`
- macOS: `src-tauri/target/release/bundle/dmg/`
- Linux: `src-tauri/target/release/bundle/deb/` æˆ– `appimage/`

## é¡¹ç›®ç»“æ„

```
æ’è¯¾ç³»ç»Ÿ/
â”œâ”€â”€ src/                    # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ components/         # Vue ç»„ä»¶
â”‚   â”œâ”€â”€ views/              # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ api/                # API æ¥å£
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ App.vue             # æ ¹ç»„ä»¶
â”œâ”€â”€ src-tauri/              # Rust åç«¯
â”‚   â”œâ”€â”€ src/                # Rust æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ main.rs         # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ commands/       # Tauri å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ db/             # æ•°æ®åº“æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ solver/         # çº¦æŸæ±‚è§£å™¨
â”‚   â”œâ”€â”€ Cargo.toml          # Rust ä¾èµ–é…ç½®
â”‚   â””â”€â”€ tauri.conf.json     # Tauri é…ç½®
â”œâ”€â”€ docs/                   # æ–‡æ¡£
â”œâ”€â”€ scripts/                # è„šæœ¬å·¥å…·
â”œâ”€â”€ tests/                  # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ vite.config.ts          # Vite é…ç½®
â””â”€â”€ package.json            # é¡¹ç›®é…ç½®
```

## ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯» [Tauri å¼€å‘æœåŠ¡å™¨é…ç½®æŒ‡å—](./tauri-dev-server-setup.md)
- ğŸ”§ æŸ¥çœ‹ [Vite é…ç½®è¯´æ˜](../../vite.config.ts)
- ğŸ“ äº†è§£ [é¡¹ç›®æ¶æ„è®¾è®¡](../architecture/project-structure.md)
- ğŸ§ª è¿è¡Œ [å•å…ƒæµ‹è¯•](../../tests/unit/README.md)
- ğŸ­ è¿è¡Œ [é›†æˆæµ‹è¯•](../../tests/README.md)

## è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜) éƒ¨åˆ†
2. è¿è¡Œé…ç½®éªŒè¯è„šæœ¬
3. æŸ¥çœ‹ç›¸å…³æ–‡æ¡£
4. è”ç³»å¼€å‘å›¢é˜Ÿ

## ç›¸å…³æ–‡æ¡£

- [Tauri å®˜æ–¹æ–‡æ¡£](https://tauri.app/v1/guides/)
- [Vite å®˜æ–¹æ–‡æ¡£](https://vitejs.dev/)
- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
- [Bun å®˜æ–¹æ–‡æ¡£](https://bun.sh/docs)
- [Rust å®˜æ–¹æ–‡æ¡£](https://www.rust-lang.org/zh-CN/learn)

---

**ç¥å¼€å‘æ„‰å¿«ï¼** ğŸš€
